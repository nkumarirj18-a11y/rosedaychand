<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Rose Day üåπ</title>

<!-- preload photos -->
<link rel="preload" as="image" href="p1.jpeg">
<link rel="preload" as="image" href="p14.jpeg">

<style>
body{
margin:0;overflow:hidden;font-family:Poppins,sans-serif;
display:flex;justify-content:center;align-items:center;
height:100dvh;color:white;
background: radial-gradient(circle,#300,#000);
background-size:200% 200%;
animation:bgMove 8s ease infinite;
}
@keyframes bgMove{
0%{background-position:0% 50%;}
50%{background-position:100% 50%;}
100%{background-position:0% 50%;}
}

/* FLASH */
#flash{
position:fixed;inset:0;background:white;opacity:0;pointer-events:none;
}

/* ROSE */
#rose-stage{text-align:center;cursor:pointer}
#the-rose{font-size:40px;transform:scale(.6);filter:drop-shadow(0 0 10px #ff003c);transition:.4s}

@keyframes growRose{
0%{transform:scale(.6)}50%{transform:scale(1.1) rotate(8deg)}100%{transform:scale(1)}
}
@keyframes finalBloom{
0%{transform:scale(1.4)}50%{transform:scale(2.2) rotate(15deg)}100%{transform:scale(1.8)}
}

.instruction{opacity:.7;margin-top:20px;animation:blink 1.5s infinite}
@keyframes blink{50%{opacity:.2}}

#main-content{display:none;text-align:center;width:90%;max-width:400px;animation:fadeIn 2s forwards}
@keyframes fadeIn{from{opacity:0;transform:scale(.8)}to{opacity:1}}

.card{
background:rgba(255,255,255,.05);
backdrop-filter:blur(15px);
padding:30px;border-radius:40px;
border:1px solid rgba(255,255,255,.1);
box-shadow:0 0 50px rgba(255,0,60,.3);
}

@keyframes pulse{
0%{box-shadow:0 0 30px rgba(255,0,60,.3)}
50%{box-shadow:0 0 70px rgba(255,0,60,.9)}
100%{box-shadow:0 0 30px rgba(255,0,60,.3)}
}

@keyframes shake{
0%{transform:translateX(0)}
25%{transform:translateX(6px)}
50%{transform:translateX(-6px)}
75%{transform:translateX(6px)}
100%{transform:translateX(0)}
}

/* PHOTOS */
.float-img{
position:absolute;bottom:-150px;width:90px;height:120px;
object-fit:cover;border-radius:12px;border:2px solid #ff003c;
opacity:0;
animation:floatUp 10s linear forwards, photoFade 1s forwards;
}
@keyframes floatUp{to{transform:translateY(-130vh) rotate(360deg)}}
@keyframes photoFade{to{opacity:1;transform:scale(1.1)}}

/* PETALS + CONFETTI */
.petal{position:absolute;pointer-events:none;animation:burst 2s forwards}
@keyframes burst{
0%{transform:translate(0,0);opacity:1}
100%{transform:translate(var(--x),var(--y)) rotate(360deg);opacity:0}
}

.fallPetal{position:absolute;top:-50px;font-size:22px;animation:fall 6s linear forwards}
@keyframes fall{to{transform:translateY(110vh) rotate(360deg)}}

#typewriter{font-size:18px;color:#ffb3c1;margin:20px 0;font-weight:bold}
</style>
</head>

<body>

<div id="flash"></div>
<audio id="bgMusic" src="song.mp3" loop></audio>

<div id="rose-stage" onclick="handleTap()">
<div id="the-rose">üå±</div>
<p class="instruction">Tap to grow the rose (<span id="tap-count">5</span>)</p>
</div>

<div id="main-content">
<div class="card">
<div style="font-size:60px">üåπ</div>
<h1 style="color:#ff003c">Happy Rose Day ‚ù§Ô∏è</h1>
<div id="typewriter"></div>
</div>
</div>

<script>
let taps=0;
const totalTaps=5;
const rose=document.getElementById("the-rose");
const count=document.getElementById("tap-count");

function handleTap(){
taps++;
count.innerText=totalTaps-taps;
if(navigator.vibrate) navigator.vibrate(40);

rose.style.animation="growRose .5s";
setTimeout(()=>rose.style.animation="",500);
rose.style.transform=`scale(${0.6+(taps*0.25)})`;

if(taps==2) rose.innerText="ü•Ä";
if(taps==3) rose.innerText="üå∑";
if(taps==4) rose.innerText="üåπ";

if(taps>=totalTaps){
rose.style.animation="finalBloom 1s forwards";

/* play music */
document.getElementById("bgMusic").play().catch(()=>{});

/* flash */
const flash=document.getElementById("flash");
flash.style.animation="flashAnim .8s";

/* heart cursor */
document.body.style.cursor="url('https://cur.cursors-4u.net/nature/nat-10/nat936.cur'), auto";

setTimeout(()=>{
document.getElementById("rose-stage").style.display="none";
document.getElementById("main-content").style.display="block";
document.querySelector(".card").style.animation="shake .4s 2";
startCelebration();
typeWriter();
},900);
}
}

function startCelebration(){
const photos=['p1.jpeg','p2.jpeg','p3.jpeg','p4.jpeg','p5.jpeg','p6.jpeg','p7.jpeg','p8.jpeg','p9.jpeg','p10.jpeg','p11.jpeg','p12.jpeg','p13.jpeg','p14.jpeg'];

function createPhoto(){
const img=document.createElement("img");
img.src=photos[Math.floor(Math.random()*photos.length)];
img.className="float-img";
img.style.left=Math.random()*80+"vw";
document.body.appendChild(img);
setTimeout(()=>img.remove(),10000);
}
const interval=setInterval(createPhoto,1200);
setTimeout(()=>clearInterval(interval),25000);

/* mega blast */
for(let i=0;i<120;i++){
const p=document.createElement("div");
p.className="petal";
p.innerHTML=Math.random()>.5?'üåπ':'‚ù§Ô∏è';
p.style.left='50vw';p.style.top='50vh';
p.style.setProperty('--x',(Math.random()-.5)*1200+'px');
p.style.setProperty('--y',(Math.random()-.5)*1200+'px');
document.body.appendChild(p);
setTimeout(()=>p.remove(),2000);
}

/* falling petals rain */
setInterval(()=>{
const p=document.createElement("div");
p.className="fallPetal";
p.innerHTML="üå∏";
p.style.left=Math.random()*100+"vw";
document.body.appendChild(p);
setTimeout(()=>p.remove(),6000);
},400);

/* confetti hearts */
setTimeout(()=>{
for(let i=0;i<80;i++){
const c=document.createElement("div");
c.className="fallPetal";
c.innerHTML="‚ù§Ô∏è";
c.style.fontSize="18px";
c.style.left=Math.random()*100+"vw";
document.body.appendChild(c);
setTimeout(()=>c.remove(),6000);
}
},5000);
}

function typeWriter(){
const text="Duniya ke har gulab ki apni kahani hai, par tum meri poori prem kahani ho. I love you ‚ù§Ô∏èüåπ";
let i=0;
const box=document.getElementById("typewriter");

function play(){
if(i<text.length){
box.textContent+=text.charAt(i);
i++;
setTimeout(play,60);
}else{
document.querySelector(".card").style.animation="pulse 1.2s infinite";
}
}
play();
}
</script>

</body>
</html>
